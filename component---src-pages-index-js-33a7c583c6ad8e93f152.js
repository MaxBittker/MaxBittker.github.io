(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{190:function(n,e,t){"use strict";t.r(e);var r=t(8),o=t.n(r),a=t(0),i=t.n(a),c=t(248),v=t.n(c),s=(t(254),t(33)),f=t.n(s),l=t(201);f()({displayName:"webgl",getInitialState:function(){try{return{width:Math.min(window.innerHeight,window.innerWidth),height:window.innerHeight-50,ready:!0}}catch(n){return{width:100,height:100,ready:!1}}},componentDidMount:function(){var n=this,e=function(){var e=n.canvas;n.gl=e.getContext("webgl"),n.state_={animationFrameRequest:null,bit:0,fb:[null,null],time0:new Date/1e3,textures:[],videoTexture:null,mouse:{x:0,y:0}};e.onmousemove=Object(l.throttle)(function(e){var t=e.target.getBoundingClientRect();n.state_.mouse.x=(e.clientX-t.left)/(t.right-t.left),n.state_.mouse.y=(e.clientY-t.bottom)/(t.top-t.bottom)},200),n.loadProgram()};this.state.ready?e():this.setState({width:Math.min(window.innerHeight,window.innerWidth),height:window.innerHeight,ready:!0},e)},loadProgram:function(){var n=this.gl,e=this.state_,t=this.state.width/2,r=this.state.height/2;function o(n,e,t){var r=n.createShader(t);if(n.shaderSource(r,e),n.compileShader(r),!n.getShaderParameter(r,n.COMPILE_STATUS))throw console.log(e),Error("could not compile shader:"+n.getShaderInfoLog(r));return r}var a=o(n,"\nattribute vec3 aPosition;\nvarying vec2 uvN;\nvoid main()\n{\n  gl_Position = vec4(aPosition, 1.0);\n  uvN = aPosition.xy;\n}",n.VERTEX_SHADER),i=o(n,"\nprecision highp float;\nconst float pi = 3.141592653589793238462643383;\nuniform float time;\nuniform vec2 mouse;\nuniform vec2 resolution;\nuniform sampler2D backBuffer;\nuniform sampler2D channel1;\nuniform sampler2D channel2;\nvarying vec2 uvN;\n\nfloat PI = 3.14159;\nfloat PI2 = 6.28318;\n\nvec3 black = vec3(0.0);\nvec3 white = vec3(1.0);\nvec3 red = vec3(0.86,0.22,0.27);\nvec3 orange = vec3(0.92,0.49,0.07);\nvec3 yellow = vec3(0.91,0.89,0.26);\nvec3 green = vec3(0.0,0.71,0.31);\nvec3 blue = vec3(0.05,0.35,0.65);\nvec3 purple = vec3(0.38,0.09,0.64);\nvec3 pink = vec3(.9,0.758,0.798);\nvec3 lime = vec3(0.361,0.969,0.282);\nvec3 teal = vec3(0.396,0.878,0.878);\nvec3 magenta = vec3(1.0, 0.189, 0.745);\nvec3 brown = vec3(0.96, 0.474, 0.227);\n\nvec2 mod289(vec2 x) { return x - floor(x * (1.0/289.0)) * 289.0; }\nvec3 mod289(vec3 x) { return x - floor(x * (1.0/289.0)) * 289.0; }\nvec3 permute(vec3 x) { return mod289(((x*34.0)+1.0)*x); }\nvec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}\nvec4 taylorInvSqrt(vec4 r){return 1.79284291400159 - 0.85373472095314 * r;}\n\nconst mat2 myt = mat2(.12121212,.13131313,-.13131313,.12121212);\nconst vec2 mys = vec2(1e4, 1e6);\nvec2 rhash(vec2 uv) {\n    uv *= myt;\n    uv *= mys;\n    return  fract(fract(uv/mys)*uv);\n}\nvec3 hash( vec3 p ){\n    return fract(sin(vec3( dot(p,vec3(1.0,57.0,113.0)),\n                           dot(p,vec3(57.0,113.0,1.0)),\n                           dot(p,vec3(113.0,1.0,57.0))))*43758.5453);\n\n}\n\nfloat rand(const in float n){return fract(sin(n) * 1e4);}\nfloat rand(const in vec2 n) { return fract(1e4 * sin(17.0 * n.x + n.y * 0.1) * (0.1 + abs(sin(n.y * 13.0 + n.x))));\n}\n\nfloat noise(float x) {\n    float i = floor(x);\n    float f = fract(x);\n    float u = f * f * (3.0 - 2.0 * f);\n    return mix(rand(i), rand(i + 1.0), u);\n}\n\nfloat noise(vec2 x) {\n    vec2 i = floor(x);\n    vec2 f = fract(x);\n\n    // Four corners in 2D of a tile\n    float a = rand(i);\n    float b = rand(i + vec2(1.0, 0.0));\n    float c = rand(i + vec2(0.0, 1.0));\n    float d = rand(i + vec2(1.0, 1.0));\n\n    vec2 u = f * f * (3.0 - 2.0 * f);\n    return mix(a, b, u.x) + (c - a) * u.y * (1.0 - u.x) + (d - b) * u.x * u.y;\n}\n\nfloat noise(vec3 x) {\n    const vec3 step = vec3(110, 241, 171);\n\n    vec3 i = floor(x);\n    vec3 f = fract(x);\n\n    float n = dot(i, step);\n\n    vec3 u = f * f * (3.0 - 2.0 * f);\n    return mix(mix(mix( rand(n + dot(step, vec3(0, 0, 0))), rand(n + dot(step, vec3(1, 0, 0))), u.x),\n                   mix( rand(n + dot(step, vec3(0, 1, 0))), rand(n + dot(step, vec3(1, 1, 0))), u.x), u.y),\n               mix(mix( rand(n + dot(step, vec3(0, 0, 1))), rand(n + dot(step, vec3(1, 0, 1))), u.x),\n                   mix( rand(n + dot(step, vec3(0, 1, 1))), rand(n + dot(step, vec3(1, 1, 1))), u.x), u.y), u.z);\n}\n\nconst vec4 C = vec4(0.211324865405187, 0.366025403784439, -0.577350269189626, 0.024390243902439);\nfloat snoise(vec2 v){\n    vec2 i  = floor(v + dot(v, C.yy));\n    vec2 x0 = v -   i + dot(i, C.xx);\n    vec2 i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n    vec4 x12 = x0.xyxy + C.xxzz;\n    x12.xy -= i1;\n    i = mod289(i);\n    vec3 p = permute( permute( i.y + vec3(0.0, i1.y, 1.0 )) + i.x + vec3(0.0, i1.x, 1.0 ));\n    vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\n    m = m*m;\n    m = m*m;\n    vec3 x = 2.0 * fract(p * C.www) - 1.0;\n    vec3 h = abs(x) - 0.5;\n    vec3 ox = floor(x + 0.5);\n    vec3 a0 = x - ox;\n    m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n    vec3 g;\n    g.x  = a0.x  * x0.x  + h.x  * x0.y;\n    g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n    return 130.0 * dot(m, g);\n}\n\nconst vec2  CC = vec2(1.0/6.0, 1.0/3.0) ;\nconst vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\nfloat snoise(vec3 v){\n\n  vec3 i  = floor(v + dot(v, CC.yyy) );\n  vec3 x0 =   v - i + dot(i, CC.xxx) ;\n  vec3 g = step(x0.yzx, x0.xyz);\n  vec3 l = 1.0 - g;\n  vec3 i1 = min( g.xyz, l.zxy );\n  vec3 i2 = max( g.xyz, l.zxy );\n  vec3 x1 = x0 - i1 + 1.0 * CC.xxx;\n  vec3 x2 = x0 - i2 + 2.0 * CC.xxx;\n  vec3 x3 = x0 - 1. + 3.0 * CC.xxx;\n  i = mod(i, 289.0 );\n  vec4 p = permute( permute( permute(\n             i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n           + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))\n           + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n  float n_ = 1.0/7.0; // N=7\n  vec3  ns = n_ * D.wyz - D.xzx;\n\n  vec4 j = p - 49.0 * floor(p * ns.z *ns.z);  //  mod(p,N*N)\n\n  vec4 x_ = floor(j * ns.z);\n  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n  vec4 x = x_ *ns.x + ns.yyyy;\n  vec4 y = y_ *ns.x + ns.yyyy;\n  vec4 h = 1.0 - abs(x) - abs(y);\n\n  vec4 b0 = vec4( x.xy, y.xy );\n  vec4 b1 = vec4( x.zw, y.zw );\n\n  vec4 s0 = floor(b0)*2.0 + 1.0;\n  vec4 s1 = floor(b1)*2.0 + 1.0;\n  vec4 sh = -step(h, vec4(0.0));\n\n  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n  vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n  vec3 p0 = vec3(a0.xy,h.x);\n  vec3 p1 = vec3(a0.zw,h.y);\n  vec3 p2 = vec3(a1.xy,h.z);\n  vec3 p3 = vec3(a1.zw,h.w);\n  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n\n  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n  m = m * m;\n  return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1),\n                                dot(p2,x2), dot(p3,x3) ) );\n}\n\nfloat voronoi(const in vec2 point )\n{\n    vec2 p = floor( point );\n    vec2 f = fract( point );\n    float res = 0.0;\n    for( int j=-1; j<=1; j++ ) {\n        for( int i=-1; i<=1; i++ ) {\n            vec2 b = vec2( i, j );\n            vec2 r = vec2( b ) - f + rhash( p + b);\n            res += 1./pow(dot(r,r),8.);\n        }\n    }\n    return pow(1./res, 0.0625);\n}\n\nvec3 voronoi( const in vec3 x ) {\n    vec3 p = floor( x );\n    vec3 f = fract( x );\n\n    float id = 0.0;\n    vec2 res = vec2( 100.0 );\n    for( int k=-1; k<=1; k++ ) {\n        for( int j=-1; j<=1; j++ ) {\n            for( int i=-1; i<=1; i++ ) {\n                vec3 b = vec3( float(i), float(j), float(k) );\n                vec3 r = vec3( b ) - f + hash( p + b );\n                float d = dot( r, r );\n\n                if( d < res.x ) {\n                    id = dot( p+b, vec3(1.0,57.0,113.0 ) );\n                    res = vec2( d, res.x );\n                }\n                else if( d < res.y ) {\n                    res.y = d;\n                }\n            }\n        }\n    }\n\n    return vec3( sqrt( res ), abs(id) );\n}\n\n//brownian\nfloat fbm(float x, const in int it) {\n    float v = 0.0;\n    float a = 0.5;\n    float shift = float(100);\n    for (int i = 0; i < 32; ++i) {\n        if(i<it) {\n            v += a * noise(x);\n            x = x * 2.0 + shift;\n            a *= 0.5;\n        }\n    }\n    return v;\n}\n\nfloat fbm(vec2 x, const in int it) {\n    float v = 0.0;\n    float a = 0.5;\n    vec2 shift = vec2(100);\n    // Rotate to reduce axial bias\n    mat2 rot = mat2(cos(0.5), sin(0.5), -sin(0.5), cos(0.50));\n    for (int i = 0; i < 32; ++i) {\n        if(i<it) {\n            v += a * noise(x);\n            x = rot * x * 2.0 + shift;\n            a *= 0.5;\n        }\n    }\n    return v;\n}\n\nfloat fbm(vec3 x, const in int it) {\n    float v = 0.0;\n    float a = 0.5;\n    vec3 shift = vec3(100);\n    // Rotate to reduce axial bias\n    float c = cos(0.3);\n    float s = sin(0.3);\n    mat3 rot = mat3(\n        c, 0.0, -s,\n        0.0, 1.0, 0.0,\n        s, 0.0, c\n    );\n    for (int i = 0; i < 32; ++i) {\n        if(i<it) {\n            v += a * noise(x);\n            x = rot * x * 2.0 + shift;\n            a *= 0.5;\n        }\n    }\n    return v;\n}\n\n//ridged multifractal\nfloat rmf(vec2 uv, const in int it) {\n    float l = 2.;\n    float r = 0.;\n    float a = 0.5;\n    float f = 1.0;\n    for(int i = 0; i < 32; i++) {\n        if(i<it) {\n            uv = uv.yx * l;\n            float n = noise(uv);\n            n = abs(fract(n-.5)-.5);\n            n *= n * a;\n            a = clamp(0.,1., n*2.);\n            r += n*pow(f, -1.);\n            f *= l;\n        }\n    }\n    return r*2.;\n}\n\n//voronoi fbm\nfloat vfbm(const in vec2 uv, const in int it) {\n    float n = 0.;\n    float a = 0.5;\n    float f = 1.0;\n    for(int i = 0; i < 32; i++) {\n        if(i<it) {\n            n += voronoi(uv*f)*a;\n            f *= 2.;\n            a *= .5;\n        }\n    }\n    return n;\n}\n\n//ridged multifractal\nfloat vrmf(vec2 uv, const in int it) {\n    float l = 2.;\n    float r = 0.;\n    float a = 0.5;\n    float f = 1.0;\n    for(int i = 0; i < 32; i++) {\n        if(i<it) {\n            uv = uv.yx * l;\n            float n = voronoi(uv);\n            n = abs(fract(n-.5)-.5);\n            n *= n * a;\n            a = clamp(0.,1., n*2.);\n            r += n*pow(f, -1.);\n            f *= l;\n        }\n    }\n    return r*2.;\n}\n\nconst vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\nvec3 hsv2rgb(vec3 c) {\n  vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n  return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\nvec3 rgb2hsv(vec3 c)\n{\n    vec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);\n    vec4 p = mix(vec4(c.bg, K.wz), vec4(c.gb, K.xy), step(c.b, c.g));\n    vec4 q = mix(vec4(p.xyw, c.r), vec4(c.r, p.yzx), step(p.x, c.r));\n    float d = q.x - min(q.w, q.y);\n    float e = 1.0e-10;\n    return vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)), d / (q.x + e), q.x);\n}\n\nvec2 uv()\n{\n  return 0.5 * uvN  + 0.5;\n}\n\nfloat smin( float a, float b,float k)\n{\n    float h = clamp( 0.5+0.5*(b-a)/k, 0.0, 1.0 );\n    return mix( b, a, h ) - k*h*(1.0-h);\n}\n\nfloat xsdTorus( vec3 p, vec2 t )\n{\n  vec2 q = vec2(length(p.xz)-t.x,p.y);\n  return length(q)-t.y;\n}\nfloat ysdTorus( vec3 p, vec2 t )\n{\n  vec2 q = vec2(length(p.yz)-t.x,p.x);\n  return length(q)-t.y;\n}\n\nfloat zsdTorus( vec3 p, vec2 t )\n{\n  vec2 q = vec2(length(p.xy)-t.x,p.z);\n  return length(q)-t.y;\n}\n\nfloat torusBall(vec3 p, vec2 t )\n{\n    return smin(\n        xsdTorus(p,t),\n        smin(\n            ysdTorus(p,t),\n            zsdTorus(p,t),\n            0.05),\n        0.05);\n}\n\nvec3 opRep( vec3 p, vec3 c )\n{\n    vec3 q = mod(p,c)-0.5*c;\n    return q;\n}\n\nfloat sceneSDF(vec3 p){\n\n vec3 q = opRep(p,vec3(2.0) );\nfloat f = (sin(time*0.7)) * 25.;\nfloat a = 20.;\nvec3 offset = vec3(0.0,-0.2,sin(time)*0.1);\n// return zsdTorus(p, vec2(0.3,0.2));\nfloat d =  torusBall(p + offset, vec2(.4 -  abs(f)*0.005, abs(f)*0.005));\n\nd += (sin(f*p.x)*\n   sin(f*p.y)*\n   sin(f*p.z)*0.03);\n\n d -= fbm(p * 035.,4)*0.03;\n return d;\n}\n\nvec3 estimateNormal(vec3 p) {\n    float EPSILON = 0.001;\n    return normalize(vec3(\n        sceneSDF(vec3(p.x + EPSILON, p.y, p.z)) - sceneSDF(vec3(p.x - EPSILON, p.y, p.z)),\n        sceneSDF(vec3(p.x, p.y + EPSILON, p.z)) - sceneSDF(vec3(p.x, p.y - EPSILON, p.z)),\n        sceneSDF(vec3(p.x, p.y, p.z  + EPSILON)) - sceneSDF(vec3(p.x, p.y, p.z - EPSILON))\n    ));\n}\n\nvec3 rayDirection(float fieldOfView, vec2 size, vec2 fragCoord) {\n    vec2 xy = fragCoord - size / 2.0;\n    float z = size.y / tan(radians(fieldOfView) / 2.0);\n    return normalize(vec3(xy, -z));\n}\n\nmat4 viewMatrix(vec3 eye, vec3 center, vec3 up) {\n    // Based on gluLookAt man page\n    vec3 f = normalize(center - eye);\n    vec3 s = normalize(cross(f, up));\n    vec3 u = cross(s, f);\n    return mat4(\n        vec4(s, 0.0),\n        vec4(u, 0.0),\n        vec4(-f, 0.0),\n        vec4(0.0, 0.0, 0.0, 1)\n    );\n}\n\nvoid main () {\n    // float smaller = min(resolution.x,resolution.y)\n    float u = gl_FragCoord.x * 2.0 / resolution.x ;\n    float v = gl_FragCoord.y * 2.0 / resolution.y ;\n    vec2 st = vec2(u, v) - vec2(0.5);\n    vec2 stN = uv();\n\n    vec4 color = vec4(vec3(0.0,0.0,0.0), 0.0); // Sky color\n\n    vec3 up =      vec3(0, 1, 0);\n    vec3 right =   vec3(1, 0, 0);\n    vec3 forward = vec3(0 ,0, 1);\n\n\n    vec3 viewDir = rayDirection(45.0, vec2(1.0), st);\n     vec3 eye = normalize(vec3(\n      sin(time/4.+3.),// + mouse.x*4.,\n      sin(time/4.+2.),// + mouse.y*4.,\n      sin(time/4.+1.)\n      ))*2.5;\n\n    mat4 viewToWorld = viewMatrix(eye, vec3(0.0, 0.0, 0.0), vec3(0.0, 1.0, 0.0));\n\n    vec3 worldDir = (viewToWorld * vec4(viewDir, 0.0)).xyz;\n\n\n    vec3 ro = eye;\n    vec3 rd = worldDir;\n    float t = 0.3;\n    const int maxSteps = 18;\n    int found = 0;\n    for(int i = 1; i < maxSteps; ++i)\n    {\n        vec3 p = ro + rd * t;\n        float d = sceneSDF(p);\n\n        if(d < 0.01)\n        {\n        //   float fi = float(i) / float(maxSteps);\n          vec3 angle = estimateNormal(p);\n          vec3 oil = angle*0.1;\n        //   oil.r = fract(oil.r*2.0)*0.2;\n          oil.r += time*0.1;\n          oil.r = float( int(oil.r*9.) )/9. * 0.9,\n          oil.g = 0.2;//s\n          oil.b = 0.7;//v\n          oil = hsv2rgb(oil);\n          oil += dot(angle , up) * white*0.2;\n\n          color = vec4(oil, 1.0) ; // Sphere color\n\n          found = 1;\n          break;\n          \n        }\n        if(d>3.0){\n            break;\n        }\n\n        t += d;\n    }\n\n    if(length(color) > 1.55){//2.5* noise((st*5000.)+time)){\n        color = vec4(1.0);\n        // color = vec4(0.,0.,0.,1.);\n        \n    }else{\n        color = vec4(0.,0.,0.,0.);\n    }\n\n    float spread = 0.0075;\n    vec2 jitter = vec2(spread, 0.00) * noise(st * 100.*time);\n    jitter = jitter - vec2(spread*0.5,0.);\n    // jitter *=0.;\n    vec2 fall = vec2(0.0, spread*0.8) * (noise(st*1000.+time));\n    // vec2 suction = vec2(0.);\n    // vec2 push = (mouse / resolution) *0.5;\n    // vec2\n\n    vec2 sampleLoc = jitter + fall + stN;// + push;// + fall +\n    sampleLoc = vec2(0.,1./resolution.y) + stN;// + push;// + fall + suction;\n    //  sampleLoc = vec2(1./resolution.x,0.) + stN;// + push;// + fall + suction;\n\n    vec4 g = texture2D(backBuffer, sampleLoc).rgba;\n    if( length(g) < 0.1){\n      g = texture2D(backBuffer, sampleLoc).rgba;\n    }\n    // color +=\n    if(found==0 && st.y < 0.9){\n        // color = vec4(vec3(1.0),1.0);\n         color = g;\n      color*=0.999;\n    }\n    gl_FragColor = color;\n}",n.FRAGMENT_SHADER),c=n.createProgram();if(n.attachShader(c,a),n.attachShader(c,i),n.linkProgram(c),!n.getProgramParameter(c,n.LINK_STATUS))throw Error("program failed to link:"+n.getProgramInfoLog(c));n.useProgram(c),n.bindBuffer(n.ARRAY_BUFFER,n.createBuffer()),n.bufferData(n.ARRAY_BUFFER,new Float32Array([-1,1,0,1,1,0,-1,-1,0,1,-1,0]),n.STATIC_DRAW),n.aPosition=n.getAttribLocation(c,"aPosition"),n.enableVertexAttribArray(n.aPosition),n.vertexAttribPointer(n.aPosition,3,n.FLOAT,!1,0,0);var v=function(){var e={texture:n.createTexture(),framebuffer:n.createFramebuffer()};return n.bindTexture(n.TEXTURE_2D,e.texture),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,t,r,0,n.RGBA,n.UNSIGNED_BYTE,null),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),n.bindFramebuffer(n.FRAMEBUFFER,e.framebuffer),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,e.texture,0),n.bindTexture(n.TEXTURE_2D,null),n.bindFramebuffer(n.FRAMEBUFFER,null),e};e.fb[0]=v(),e.fb[1]=v();var s,f,l=new Image;l.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAABpAgMAAADZ4ewhAAAADFBMVEVlLWcjHyD///9aukdNbQb8AAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfgBBsTBjDG601/AAAAbUlEQVRIx2MIxQYYBoVo2Cp0MHXQiC5FcWvUIBJd//9q6P+/ofFAapCJDt4wWxpa/x/s3v//B53o4A2zwSo6WEuNQVvSQgEad1CIMmK41mFwiILprFXgRAilYOE78KKgnLBqJYwKHUSigzMHAADhlJM2vqJTOQAAAABJRU5ErkJggg==",s=l,f=n.createTexture(),n.bindTexture(n.TEXTURE_2D,f),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,s),e.textures.push(f);var u=new Image;u.src="data:image/gif;base64,R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs=",e.videoTexture=n.createTexture(),n.bindTexture(n.TEXTURE_2D,e.videoTexture),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,u),n.time=n.getUniformLocation(c,"time"),n.mouse=n.getUniformLocation(c,"mouse"),n.resolution=n.getUniformLocation(c,"resolution"),n.backBuffer=n.getUniformLocation(c,"backBuffer"),n.channel1=n.getUniformLocation(c,"channel1"),n.channel2=n.getUniformLocation(c,"channel2"),this.draw(),null===e.animationFrameRequest&&(e.animationFrameRequest=requestAnimationFrame(this.animate))},draw:function(){var n=this.gl,e=this.state_,t=this.state.width/2,r=this.state.height/2;n.uniform1f(n.time,(new Date).getTime()/1e3-e.time0),n.uniform2f(n.mouse,e.mouse.x,e.mouse.y),n.uniform2f(n.resolution,t,r),n.uniform1i(n.channel1,1),n.activeTexture(n.TEXTURE0+1),n.bindTexture(n.TEXTURE_2D,e.textures[0]),n.uniform1i(n.channel2,2),n.activeTexture(n.TEXTURE0+2),n.bindTexture(n.TEXTURE_2D,e.videoTexture),n.uniform1i(n.backBuffer,0),n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,e.fb[e.bit].texture),e.bit=(e.bit+1)%2,n.bindFramebuffer(n.FRAMEBUFFER,e.fb[e.bit].framebuffer),n.clear(n.COLOR_BUFFER_BIT),n.drawArrays(n.TRIANGLE_STRIP,0,4),n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,e.fb[e.bit].texture),n.bindFramebuffer(n.FRAMEBUFFER,null),n.clear(n.COLOR_BUFFER_BIT),n.drawArrays(n.TRIANGLE_STRIP,0,4)},animate:function(){this.draw(),this.state_.animationFrameRequest=requestAnimationFrame(this.animate)},componentDidUpdate:function(){this.state.ready&&(cancelAnimationFrame(this.state_.animationFrameRequest),this.state_.animationFrameRequest=null,this.loadProgram())},componentWillUnmount:function(){cancelAnimationFrame(this.state_.animationFrameRequest)},render:function(){var n=this;return i.a.createElement("canvas",{ref:function(e){return n.canvas=e},className:"program",style:{position:"absolute",left:"50%",marginLeft:-this.state.width/2+"px",top:50,bottom:0,height:this.state.height+"px",width:this.state.width+"px",zIndex:-1},width:this.state.width/2,height:this.state.height/2})}}),t(194),t(61),t(98),t(202),t(97);var u=f()({displayName:"Loom",render:function(){var n=Array.from(Array(1+window.innerHeight/60|0).keys()).map(function(){return n=window.innerWidth/4,e=Array.from(Array(1+8*Math.random()|0).keys()).map(function(){return Math.random()}),t=e.reduce(function(n,e){return n+e}),e.map(function(e){return 4*Math.ceil(e*(n/4/t))});var n,e,t});return i.a.createElement("svg",{className:"loom"},i.a.createElement("pattern",{id:"hatch",patternUnits:"userSpaceOnUse",width:"4",height:"4"},i.a.createElement("path",{d:"M-1,1 l2,-2 M0,4 l4,-4 M3,5 l2,-2"})),i.a.createElement("pattern",{id:"left-hatch",patternUnits:"userSpaceOnUse",width:"4",height:"4"},i.a.createElement("path",{d:" M3,-1 l2,2 M-1,-1 l5,5 M-1,3 l2,2"})),n.map(function(n,e){var t=function(n){var e=0,t=[e];return n.forEach(function(n){e+=n,t.push(e)}),t}(n);return n.map(function(n,r){return i.a.createElement("rect",{key:e+"+"+r,x:4*t[r],y:60*e,width:4*n,height:60,fill:"url(#"+(Math.random()>.5?"hatch":"left-hatch")+")",style:{stroke:"none"}})})}))}});t.d(e,"default",function(){return x}),v.a.config("https://00f21757ccfe49a49742d4f9d7f1ab30@sentry.io/1234724",{release:"2.0.0",enviroment:"production"}).install();var x=function(n){function e(){return n.apply(this,arguments)||this}return o()(e,n),e.prototype.render=function(){return i.a.createElement("div",{className:"index"},i.a.createElement(u,null))},e}(i.a.Component)},194:function(n,e,t){}}]);
//# sourceMappingURL=component---src-pages-index-js-33a7c583c6ad8e93f152.js.map